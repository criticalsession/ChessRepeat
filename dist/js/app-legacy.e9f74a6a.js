(function(){var e={3659:function(e,t,i){"use strict";i(6992),i(8674),i(9601),i(7727);var n=i(144),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Board",{ref:"board",attrs:{pov:e.pov,FEN:e.FEN,tileSize:e.tileSize}}),i("div",{staticStyle:{top:"20px",position:"relative"}},[i("button",{on:{click:function(t){return e.switchPOV()}}},[e._v("Flip")]),e._v(" "),i("button",{on:{click:function(t){return e.setFEN("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR")}}},[e._v("Start Position")]),e._v(" FEN: "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.FEN,expression:"FEN"}],staticStyle:{width:"400px"},domProps:{value:e.FEN},on:{input:function(t){t.target.composing||(e.FEN=t.target.value)}}}),i("br"),i("br"),e._v(" Size: "),i("button",{on:{click:function(t){e.tileSize=50}}},[e._v("Small")]),e._v(" "),i("button",{on:{click:function(t){e.tileSize=70}}},[e._v("Medium")]),e._v(" "),i("button",{on:{click:function(t){e.tileSize=90}}},[e._v("Large")])])],1)},s=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"board",style:e.boardWidthHeight},[i("BoardTiles",{staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{tileSize:e.tileSize,pov:e.pov}}),i("Pieces",{ref:"piecesHandler",staticStyle:{position:"absolute",top:"0",left:"0"},attrs:{pov:e.pov,tileSize:e.tileSize,pieceList:e.pieces,startWhiteToMove:e.whiteToMove,allowAnimate:e.animatePieces},on:{updatedPieceList:e.updatePieces}})],1)},c=[],u=(i(9653),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",e._l(8,(function(t){return i("div",{key:t,staticClass:"row"},e._l(8,(function(n){return i("BoardTile",{key:t+n,attrs:{row:t,column:n,pov:e.pov}})})),1)})),0)}),a=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tile",class:{white:(e.column+e.row)%2===0},style:e.sizeStyle},[1===e.column||8===e.row?i("div",[i("div",e._b({staticClass:"colDisplay tileMarker"},"div",e.colDisplayTopStyle,!1),[e._v(e._s(e.colDisplay))]),i("div",{staticClass:"rowDisplay tileMarker"},[e._v(e._s(e.rowDisplay))])]):e._e()])},p=[],h=(i(1539),i(9714),{name:"BoardTile",data:function(){return{}},methods:{alphabetFromNumber:function(e){return(e+9).toString(36)}},props:{row:Number,column:Number,pov:Number,tileSize:Number},computed:{colDisplay:function(){return 8!==this.row?null:this.alphabetFromNumber(this.povColumn)},rowDisplay:function(){return 1!==this.column?null:this.povRow},povRow:function(){return 0===this.pov?this.row:9-this.row},povColumn:function(){return 1===this.pov?this.column:9-this.column},sizeStyle:function(){return{width:this.tileSize+"px",height:this.tileSize+"px"}},colDisplayTopStyle:function(){return{top:this.tileSize-20+"px"}}}}),f=h,v=i(3736),d=(0,v.Z)(f,l,p,!1,null,"0d830171",null),m=d.exports,g={name:"BoardTiles",props:{pov:Number,tileSize:Number},components:{BoardTile:m},data:function(){return{}},methods:{},watch:{},mounted:function(){}},w=g,P=(0,v.Z)(w,u,a,!1,null,"10485de8",null),b=P.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[e._l(64,(function(t){return i("TileTarget",{key:"tile"+t,attrs:{coords:e.getCoords64(t),hasPrevious:e.findPrevious(t),hasLastMoved:e.findLastMoved(t),isSelected:e.isTileSelected(t),allowAnimate:e.allowAnimate,tileSize:e.tileSize},on:{tileClicked:function(i){return e.tileClicked(t)}}})})),e._l(e.pieces,(function(t,n){return i("PieceImage",{key:"piece"+n,attrs:{piece:t,pov:e.pov,allowAnimate:e.allowAnimate,tileSize:e.tileSize}})}))],2)},y=[],k=(i(7327),i(4747),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tile",style:e.getPosition(),on:{click:e.selectTile}},[null===e.piece||e.piece.captured?e._e():n("div",{staticClass:"piece",style:e.piecePosition},[n("img",{style:e.pieceImageHeight,attrs:{src:i(1143)("./"+e.getImage())}})])])}),N=[],_=i(6133),x=i(2751),T=i(3796),E=function(){function e(){(0,_.Z)(this,e)}return(0,x.Z)(e,[{key:"isPawn",value:function(t){return t.type===e.PAWN}},{key:"isHorsey",value:function(t){return t.type===e.HORSEY}},{key:"isBishop",value:function(t){return t.type===e.BISHOP}},{key:"isRook",value:function(t){return t.type===e.ROOK}},{key:"isQueen",value:function(t){return t.type===e.QUEEN}},{key:"isKing",value:function(t){return t.type===e.KING}},{key:"isWhite",value:function(e){return 1===e.color}}]),e}();(0,T.Z)(E,"PAWN",1),(0,T.Z)(E,"HORSEY",2),(0,T.Z)(E,"BISHOP",3),(0,T.Z)(E,"ROOK",4),(0,T.Z)(E,"QUEEN",5),(0,T.Z)(E,"KING",6);var z={name:"PieceImage",props:{piece:Object,hasPrevious:Boolean,pov:Number,allowAnimate:Boolean,tileSize:Number},components:{},data:function(){return{}},methods:{getImage:function(){var e="";if(null===this.piece||void 0===this.piece)return null;switch(this.piece.type){case E.PAWN:e="pawn";break;case E.HORSEY:e="horsey";break;case E.BISHOP:e="bishop";break;case E.ROOK:e="rook";break;case E.QUEEN:e="queen";break;case E.KING:e="king";break}return 1===this.piece.color&&(e+="_w"),e+=".png",e},selectTile:function(){this.$emit("tileClicked",this.piece)},getPosition:function(){return{top:(this.povY-1)*this.tileSize+"px",left:(this.povX-1)*this.tileSize+"px","z-index":(new E).isHorsey(this.piece)?8:6,transition:this.allowAnimate?"all 0.2s":"none",width:this.tileSize+"px",height:this.tileSize+"px"}}},computed:{povX:function(){return 1===this.pov?this.piece.positionX:9-this.piece.positionX},povY:function(){return 1===this.pov?this.piece.positionY:9-this.piece.positionY},piecePosition:function(){return{top:this.tileSize/2-this.tileSize/2.5+"px"}},pieceImageHeight:function(){return{height:this.tileSize/1.25+"px"}}},watch:{},mounted:function(){}},O=z,C=(0,v.Z)(O,k,N,!1,null,"01653cbd",null),M=C.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tile",class:{selected:e.isSelected,hasPrevious:e.hasPrevious,lastMoved:e.hasLastMoved},style:e.getPosition(),on:{click:e.selectTile}})},B=[],F={name:"PieceImage",props:{hasPrevious:Boolean,hasLastMoved:Boolean,isSelected:Boolean,coords:Object,allowAnimate:Boolean,tileSize:Number},components:{},data:function(){return{}},methods:{selectTile:function(){this.$emit("tileClicked",this.piece)},getPosition:function(){return{top:(this.coords.y-1)*this.tileSize+"px",left:(this.coords.x-1)*this.tileSize+"px",transition:this.allowAnimate?"all 0.2s":"none",width:this.tileSize+"px",height:this.tileSize+"px"}}},computed:{},watch:{},mounted:function(){}},I=F,Z=(0,v.Z)(I,A,B,!1,null,"46abf592",null),j=Z.exports,H={name:"PiecesManager",props:{pov:Number,allowAnimate:Boolean,tileSize:Number},components:{PieceImage:M,TileTarget:j},data:function(){return{pieces:[],whiteToMove:!0}},methods:{getTileRef:function(e){return"tile"+e},reset:function(e,t){this.pieces=e,this.whiteToMove=t},getCoords64:function(e){e-=1;var t=e%8+1,i=parseInt(e/8)+1;return{x:t,y:i}},getPiece:function(e,t){var i=this,n=this.activePieces.filter((function(n){return n.positionX===(1===i.pov?e:9-e)&&n.positionY===(1===i.pov?t:9-t)}));return n.length>0?n[0]:null},clearSelections:function(){this.pieces.forEach((function(e){e.isSelected=!1}))},clearPreviousPositions:function(){this.pieces.forEach((function(e){e.previousPosition=[],e.lastMoved=!1}))},pieceCorrectColor:function(e){return 0===e.color&&!this.whiteToMove||1===e.color&&this.whiteToMove},tileClicked:function(e){var t=this.getCoords64(e),i=this.getPiece(t.x,t.y),n=this.selectedPiece;null!==i&&this.pieceCorrectColor(i)?(this.clearSelections(),i.isSelected=!0):null!==n&&this.tryMovePiece(t.x,t.y,n),this.$emit("updatePieceList",this.pieces,this.whiteToMove)},capturePiece:function(e){e.captured=!0},tryMovePiece:function(e,t,i){var n=this.getPiece(e,t);null!==n&&this.capturePiece(n),this.movePieceTo(i,e,t)},movePieceTo:function(e,t,i){var n=this.adjustXYToAbsolute(t,i);this.clearPreviousPositions(),null!==e&&(e.previousPosition=[e.positionX,e.positionY],e.positionX=n[0],e.positionY=n[1],e.movedOnce=!0,e.lastMoved=!0),this.clearSelections(),this.whiteToMove=!this.whiteToMove},adjustToAbsolute:function(e){return 0===this.pov?9-e:e},adjustXYToAbsolute:function(e,t){var i=[e,t];return 0===this.pov&&(i=[9-e,9-t]),i},findPrevious:function(e){var t=this,i=this.getCoords64(e),n=this.pieces.filter((function(e){return e.previousPosition[0]===t.adjustToAbsolute(i.x)&&e.previousPosition[1]===t.adjustToAbsolute(i.y)}));return n.length>0},findLastMoved:function(e){var t=this,i=this.getCoords64(e),n=this.pieces.filter((function(e){return e.positionX===t.adjustToAbsolute(i.x)&&e.positionY===t.adjustToAbsolute(i.y)&&e.lastMoved}));return n.length>0},isTileSelected:function(e){var t=this;if(null!==this.selectedPiece){var i=this.getCoords64(e),n=this.pieces.filter((function(e){return e.positionX===t.adjustToAbsolute(i.x)&&e.positionY===t.adjustToAbsolute(i.y)&&e.isSelected}));return n.length>0}}},computed:{selectedPiece:function(){var e=this.pieces.filter((function(e){return e.isSelected}));return 0===e.length?null:e[0]},activePieces:function(){return this.pieces.filter((function(e){return!e.captured}))}},watch:{},mounted:function(){}},R=H,Y=(0,v.Z)(R,S,y,!1,null,"110a33a9",null),K=Y.exports,$=i(7965),X=function(){function e(){(0,_.Z)(this,e)}return(0,x.Z)(e,[{key:"convert",value:function(e){var t,i=1,n=1,o=[],s=(0,$.Z)(e);try{for(s.s();!(t=s.n()).done;){var r=t.value;switch(r){case"/":n++,i=1;break;case"p":o.push(this.newPiece(i,n,E.PAWN,0)),i++;break;case"P":o.push(this.newPiece(i,n,E.PAWN,1)),i++;break;case"n":o.push(this.newPiece(i,n,E.HORSEY,0)),i++;break;case"N":o.push(this.newPiece(i,n,E.HORSEY,1)),i++;break;case"b":o.push(this.newPiece(i,n,E.BISHOP,0)),i++;break;case"B":o.push(this.newPiece(i,n,E.BISHOP,1)),i++;break;case"r":o.push(this.newPiece(i,n,E.ROOK,0)),i++;break;case"R":o.push(this.newPiece(i,n,E.ROOK,1)),i++;break;case"q":o.push(this.newPiece(i,n,E.QUEEN,0)),i++;break;case"Q":o.push(this.newPiece(i,n,E.QUEEN,1)),i++;break;case"k":o.push(this.newPiece(i,n,E.KING,0)),i++;break;case"K":o.push(this.newPiece(i,n,E.KING,1)),i++;break;default:i+=parseInt(r);break}}}catch(c){s.e(c)}finally{s.f()}return o}},{key:"newPiece",value:function(e,t,i,n){return{positionX:e,positionY:t,type:i,color:n,isSelected:!1,previousPosition:[],movedOnce:!1,captured:!1}}}]),e}(),D={name:"BoardContainer",props:{pov:Number},components:{BoardTiles:b,Pieces:K},data:function(){return{whiteToMove:!0,pieces:[],tileSize:70,animatePieces:!0}},methods:{loadFEN:function(e){if(e.length>0){var t=new X;this.pieces=t.convert(e)}this.whiteToMove=!0,this.pauseAnimation(),this.$refs["piecesHandler"].reset(this.pieces,this.whiteToMove)},updatePieces:function(e,t){this.pieces=e,this.whiteToMove=t},pauseAnimation:function(){var e=this;this.animatePieces=!1,setTimeout((function(){e.animatePieces=!0}),500)}},computed:{boardWidthHeight:function(){return{width:8*this.tileSize+"px",height:8*this.tileSize+"px"}}},watch:{pov:function(){this.pauseAnimation()},tileSize:function(){this.pauseAnimation()}},mounted:function(){}},L=D,Q=(0,v.Z)(L,r,c,!1,null,null,null),W=Q.exports,q={name:"app",components:{Board:W},methods:{switchPOV:function(){this.pov=1===this.pov?0:1},setFEN:function(e){this.FEN=e,this.$refs["board"].loadFEN(this.FEN)}},data:function(){return{pov:1,FEN:"",tileSize:70}},watch:{FEN:function(){this.$refs["board"].loadFEN(this.FEN)}},mounted:function(){this.setFEN("r1b1k1nr/p2p1pNp/n2B4/1p1NP2P/6P1/3P1Q2/P1P1K3/q5b1")}},U=q,G=(0,v.Z)(U,o,s,!1,null,null,null),V=G.exports;n.Z.config.productionTip=!0,new n.Z({render:function(e){return e(V)}}).$mount("#app")},1143:function(e,t,i){var n={"./bishop.png":8328,"./bishop_w.png":7373,"./horsey.png":3466,"./horsey_w.png":4884,"./king.png":5885,"./king_w.png":8422,"./pawn.png":3592,"./pawn_w.png":1907,"./queen.png":1900,"./queen_w.png":368,"./rook.png":5223,"./rook_w.png":7407};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=1143},8328:function(e,t,i){"use strict";e.exports=i.p+"img/bishop.f0a4b241.png"},7373:function(e,t,i){"use strict";e.exports=i.p+"img/bishop_w.169b9288.png"},3466:function(e,t,i){"use strict";e.exports=i.p+"img/horsey.504920d4.png"},4884:function(e,t,i){"use strict";e.exports=i.p+"img/horsey_w.660812b5.png"},5885:function(e,t,i){"use strict";e.exports=i.p+"img/king.422328cf.png"},8422:function(e,t,i){"use strict";e.exports=i.p+"img/king_w.61477a16.png"},3592:function(e,t,i){"use strict";e.exports=i.p+"img/pawn.48a68a52.png"},1907:function(e,t,i){"use strict";e.exports=i.p+"img/pawn_w.590c7c83.png"},1900:function(e,t,i){"use strict";e.exports=i.p+"img/queen.c93bc5ae.png"},368:function(e,t,i){"use strict";e.exports=i.p+"img/queen_w.a30ae340.png"},5223:function(e,t,i){"use strict";e.exports=i.p+"img/rook.f081f021.png"},7407:function(e,t,i){"use strict";e.exports=i.p+"img/rook_w.f47210e3.png"}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,n,o,s){if(!n){var r=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],s=e[l][2];for(var c=!0,u=0;u<n.length;u++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[u])}))?n.splice(u--,1):(c=!1,s<r&&(r=s));if(c){e.splice(l--,1);var a=o();void 0!==a&&(t=a)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,r=n[0],c=n[1],u=n[2],a=0;if(r.some((function(t){return 0!==e[t]}))){for(o in c)i.o(c,o)&&(i.m[o]=c[o]);if(u)var l=u(i)}for(t&&t(n);a<r.length;a++)s=r[a],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(l)},n=self["webpackChunkchess_repeat"]=self["webpackChunkchess_repeat"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(3659)}));n=i.O(n)})();
//# sourceMappingURL=app-legacy.e9f74a6a.js.map